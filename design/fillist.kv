#:kivy 2.3.1

<StatefulLabel>:
    orientation: 'horizontal'
    size_hint_y: None
    height: dp(40)
    canvas.before:
        Color:
            rgba: 230/255, 230/255, 230/255, 1
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [dp(26),]
    Label:
        text: root.name
        size_hint_x: 0.2
        text_size: self.size
        halign: 'left'
        valign: 'middle'
        padding: (10,0)
        color: (0,0,0)
    
    Label:
        text: root.genre
        size_hint_x: 0.2
        text_size: self.size
        halign: 'left'
        valign: 'middle'
        padding: (10,0)
        color: (0,0,0)
    Label:
        text: root.status
        size_hint_x: 0.15
        text_size: self.size
        halign: 'left'
        valign: 'middle'
        padding: (10,0)
        color: (0,0,0)
    

    
    BoxLayout:
        size : 150, 30
        size_hint_x: 0.3
        Button:
            color: 1,1,1,1
            text: "1"
            size_hint: (None, None)
            background_normal: ''
            background_color: 136/255, 136/255, 136/255, 1
            size: 30,30 
        Button:
            color: 1,1,1,1
            text: "2"
            size_hint: (None, None)
            background_normal: ''
            background_color: 136/255, 136/255, 136/255, 1
            size: 30,30 
        Button:
            color: 1,1,1,1
            text: "3"
            size_hint: (None, None)
            background_normal: ''
            background_color: 136/255, 136/255, 136/255, 1
            size: 30,30 
        Button:
            color: 1,1,1,1
            text: "4"
            size_hint: (None, None)
            background_normal: ''
            background_color: 136/255, 136/255, 136/255, 1
            size: 30,30 
        Button:
            color: 1,1,1,1
            text: "5"
            size_hint: (None, None)
            background_normal: ''
            background_color: 136/255, 136/255, 136/255, 1
            size: 30,30 


    Widget:
        size_hint_x: 0.05
    
    BoxLayout:
        size_hint_x: 0.06
        spacing: 5
        
        Button:
            text: 'Red'
            size_hint_x: 0.2
        Button:
            text: 'Del'
            size_hint_x: 0.2
            on_release: root.del_btn_realise(self)

<RV>:
    viewclass: 'StatefulLabel'
    RecycleGridLayout:
        cols: 1
        size_hint_y: None
        height: self.minimum_height
        default_size_hint: 1, None
        default_size: 0, dp(40)
        spacing: dp(10) 




<CustomButtonForRationg>:
    color: 1,1,1,1
    size_hint: (None, None)
    background_normal: ''
    background_color: 136/255, 136/255, 136/255, 1
    size: 30,30
<CustomLayotForRating>:
    size : 150, 30


<CustomDropdownButton>:
    size_hint_y: None
    height: '40dp'
    background_color: self.button_color
    background_normal: ''
    color: 1, 1, 1, 1
    font_name: "Calibri"

<StatusDropdown>:
    canvas.before:
        Color:
            rgb: 136/255,136/255,136/255
        Rectangle:
            pos: self.pos
            size: self.size

   

<myLayout>:
    search_but: search_but
    search_text: search_text
    status_button: status_button 
    rating_layout: rating_layout 
    scroll_menu: scroll_menu
    canvas: 
        Rectangle: 
            pos: self.pos
            size: self.size
    TextInput:
        id: search_text
        text: "Поиск..."
        size_hint: None, None
        size: root.width - self.width/20 , 30
        pos: root.width - self.width + root.width / 4.69 , root.height - self.height - 10

    Button:
        id: search_but
        text: 'S'
        size_hint: None, None
        size:30,30
        color: 1,1,1,1
        pos: root.width + root.width / 4.7  , root.height - self.height - 10
        on_press: root.searchOnPress()
    # Кнопка для работы с dropdown
    Button:
        id: status_button
        text: 'Все'
        size_hint: None, None
        size: 150, 22
        pos: root.width / 3  , root.height - self.height * 6.15
        background_color: 136/255,136/255,136/255, 1
        background_normal: ''
        color: 1, 1, 1, 1
        font_name: "Calibri"
        on_release: root.open_status_dropdown()
    CustomLayotForRating:
        id:rating_layout
        pos: root.width / 3  , root.height/1.23
        on_selected_rating: root.on_rating_selected(args[1])
    RV:
        id: scroll_menu
        pos: root.width/4, rating_layout.y - rating_layout.height - 20  # 20px отступ снизу от rating_layout
        size: root.width * 2/3, root.height - rating_layout.height - 100  # Занимает оставшееся пространство
        
<FillistMainMenu>:
    canvas:
        Color: 
            rgb : 1, 1, 1
        Rectangle: 
            pos: 0,0
            size: root.width, root.height
        Color:
            rgb: 167/255, 115/255, 187/255
        Rectangle:
            pos: 0, 0
            size: root.width /6 , root.height
        Rectangle:
            pos: root.width * 5/6, 0
            size: root.width * 1 / 6 , root.height
        Rectangle:
            pos: root.width/6, root.height - root.height/8
            size: root.width * 4 /6,  root.height / 8
    Label:
        font_size: 70
        center: root.center
        top: root.top
        text: "F i l l i s t"
        font_name: "Calibri" 
    myLayout:
        pos: root.width/6, 0
        size: root.width*4/6, root.height - root.height/8
    Label:
        color: (136/255,136/255,136/255)
        font_size: 20
        text: 'Фильтры:'
        pos: root.width/6 + 8, root.height - root.height/4
        font_name: "Calibri" 
    Label:
        color: (136/255,136/255,136/255)
        font_size: 20
        text: 'Статус'
        pos: root.width/6 - 4, root.height - root.height/3.5
        font_name: "Calibri" 
    Label:
        color: (136/255,136/255,136/255)
        font_size: 20
        text: 'Рейтинг'
        pos: root.width/6  + 3, root.height - root.height/3.1
        font_name: "Calibri" 

        

    