
<myLayout>:
    
    search_text: search_text
    status_button: status_button 
    rating_layout: rating_layout 
    scroll_menu: scroll_menu
  
    canvas: 
        Rectangle: 
            pos: self.pos
            size: self.size
        Color:
            rgba: 230/255, 230/255, 230/255, 1
        RoundedRectangle:
            pos: root.width/ 8*2.08, root.height/10 *9.58
            size: root.width - self.width/20, 30
            radius: [15,]

    TextInput:
        id: search_text
        background_color: 0, 0, 0, 0  # Прозрачный фон самого TextInput
        foreground_color: 0, 0, 0, 1  # Цвет текста - черный
        cursor_color: 0, 0, 0, 1  # Цвет курсора
        padding: [10, 6]  # Отступы для текста
        
        hint_text: "Поиск..."
        hint_text_color: 136/255, 136/255, 136/255, 1
        size_hint: None, None
        size: root.width - self.width/20, 30
        pos: root.width - self.width + root.width / 4.69, root.height - self.height - 10

  
    
    CustomButtonWith2States:
        size_hint: (None, None)
        size: 30, 30
        mipmap: True
        fit_mode: "fill"
        pos:  root.width + root.width / 4.6  , root.height - self.height - 10
        normal_source: "./images/buttons/Search_btn.png"
        down_source: "./images/buttons/Search_btn_down.png"
        on_release: root.searchOnPress()
    # Кнопка для работы с dropdown

    Button:
        id: status_button
        background_color: 0, 0, 0, 0  # Прозрачный фон
        canvas.before:
            Color:
                rgba: 136/255,136/255,136/255, 1  # Цвет кнопки
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [10,]
        text: 'Все'
        size_hint: None, None
        size: 150, 22
        pos: root.width / 3  , root.height - self.height * 6.15
        # background_color: 136/255,136/255,136/255, 1
        background_normal: ''
        color: 1, 1, 1, 1
        font_name: "./fonts/calibri.ttf"
        on_release: root.open_status_dropdown()
    CustomLayotForRating:
        id:rating_layout
        pos: root.width / 3  , root.height/1.23
        on_selected_rating: root.on_rating_selected(args[1])


    CustomButtonWith2States:
        size_hint: (None, None)
        size: 30, 30
        mipmap: True
        fit_mode: "fill"
        pos:  root.width/2.1  , root.height/1.23
        normal_source: "./images/buttons/Apply_btn.png"
        down_source: "./images/buttons/Apply_btn_down.png"
        on_release: root.apply_filters()
    CustomButtonWith2States:
        size_hint: (None, None)
        size: 30, 30
        mipmap: True
        fit_mode: "fill"
        pos:  root.width/1.96  , root.height/1.23
        normal_source: "./images/buttons/Delete_btn.png"
        down_source: "./images/buttons/Delete_btn_down.png"
        on_release: root.recet_filters()



    RV:
        id: scroll_menu
        pos: root.width/4 + dp(20), rating_layout.y - rating_layout.height - 20  # Сдвиг на 20dp вправо
        size: root.width * 2/3 , root.height - rating_layout.height - 100  # Занимает оставшееся пространство